Python：ライブラリ導入について(seleniumなど基本的なもの)。

基本と今回できること。

今回できるようになることは、Pythonで外部ライブラリを導入して使い始める基本手順を理解することです。

 Pythonは、標準ライブラリ（OS操作やエイチティーティーピーなど）と、外部ライブラリ（pipで追加するパッケージ）に分かれます。seleniumはブラウザ自動化を行う外部ライブラリです。

 どんな場面で外部ライブラリが必要かを先に押さえると、選定が効率的です。たとえば、軽いエイチティーティーピー取得やHTML解析であれば標準ライブラリのurllibや、外部のrequestsとBeautifulSoupの組み合わせを使います。一方で、ブラウザ上での操作確認やJavaScriptの評価が必要であれば、seleniumを使う判断になります。

ライブラリ導入の流れ（pipと仮想環境）。

導入手順はシンプルです。

 まずプロジェクトごとに仮想環境を作ると依存管理が安定します。Windowsでは python ハイフン m venv venv 、Mac スラッシュ Linuxでは python3 ハイフン m venv venv が基本です。

 仮想環境を有効化してから pip install でパッケージを入れます。pipはPythonのパッケージ管理ツールで、インストールは1行で完了します。

 例（pipインストール）です。

（コード例があります）

 このコマンドでseleniumが仮想環境に追加されます。ブラウザドライバは別途用意が必要です。

最小コードと実行。

最小コードは次のとおりです。

（コード例があります）

 このスクリプトは、指定したパッケージが環境にあるかを検査して結果を表示します。外部ライブラリの有無を簡単に確認できます。

 実行方法は、 python check_packages.py で実行します。VSCodeでは、エクスプローラーからファイルを右クリックして「Python ファイルをターミナルで実行」を選ぶか、デバッグ実行を使います。

 出力例は次のとおりです。

（コード例があります）

 要チェックのポイントは次のとおりです。

 
 
・ print の出力を確認します。
 
・ importlib.util.find_spec が None かどうかで状態を判定します。
 
・必要なら sys.executable を print して、仮想環境を使っているかを確認します。

デバッグと1段ステップアップ。

デバッグの見方（printやlogging、変数の確認）は基礎です。まずはprintで変数の値を出力すると状況を把握しやすいです。

 より実用的には、loggingモジュールでログ出力レベルを制御すると便利です。簡単な例は次のとおりです。

（コード例があります）

 1段ステップアップとして、処理を関数化し、例外処理も追加すると保守しやすくなります。外部ライブラリをインポートする際は、try スラッシュ except ImportErrorでフォールバック処理を用意しておくと運用時に詰まりにくいです。

 ImportErrorやModuleNotFoundErrorが出る場合は、仮想環境が有効化されていないことが多いです。仮想環境をアクティブにしてから再インストールすると解決しやすいです。