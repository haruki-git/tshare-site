<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JavaScript：ES ModulesとViteの地図（概念だけ）</title>
  <link rel="stylesheet" href="/assets/styles.css?v=1767406624605">
</head>
<body>
  <main class="container">
    <article class="card">
      <header>
        <h1>JavaScript：ES ModulesとViteの地図（概念だけ）</h1>
        <nav><a href="/posts/JavaScript/">JavaScript記事一覧</a></nav>
        <p class="meta">投稿日：2026-01-13</p>
      </header>

      <section class="card" style="margin-top:12px;">
        <h2 style="margin:0 0 8px 0;">音声</h2>
        <audio controls preload="none" src="/posts/genba/audio/316.mp3"></audio>
        <p class="meta" style="margin-top:8px; opacity:0.85;">※ AI音声で読み上げます</p>
      </section>

      <section id="sec-toc">
        <h2>目次</h2>
        <ol>
          <li><a href="#sec-1">import/exportの基本（named/default）</a></li>
          <li><a href="#sec-2">依存関係が見えるメリット</a></li>
          <li><a href="#sec-3">npmとpackage.jsonの超概要</a></li>
          <li><a href="#sec-4">Viteの役割（開発サーバ・ビルド）</a></li>
          <li><a href="#sec-5">会社PCで導入不可でも理解できる範囲</a></li>
          <li><a href="#sec-6">注意（ここだけ）</a></li>
          <li><a href="#sec-7">要約</a></li>
        </ol>
      </section>

      <section id="sec-1">
        <h3>import/exportの基本（named/default）</h3>
        <p>
          この記事は「導入できる・できない」はひとまず置いて、<strong>ES Modules（イーエス・モジュール）</strong>と
          <strong>Vite（ヴィート）</strong>を、地図として頭に入れるための概念整理です。
          実務でプロジェクトを見たときに「何をやっている構成なのか」が分かることを目的にします。
        </p>

        <p>
          ES Modulesは「ファイルを部品として分割して、読み込んで組み立てる」仕組みです。
          その中心が <strong>export（外に出す）</strong> と <strong>import（取り込む）</strong> です。
        </p>

        <p><strong>named export（名前付き）</strong>は、同じファイルから複数個出せます。</p>
        <pre><code class="language-javascript">// utils.js
export function add(a, b) {
  return a + b;
}
export const VERSION = "1.0.0";

// main.js
import { add, VERSION } from "./utils.js";
console.log(add(2, 3), VERSION);
</code></pre>

        <p><strong>default export（デフォルト）</strong>は、そのファイルの「代表1つ」を出すイメージです。</p>
        <pre><code class="language-javascript">// logger.js
export default function log(msg) {
  console.log("[LOG]", msg);
}

// main.js
import log from "./logger.js";
log("hello");
</code></pre>

        <p>使い分けの雑な目安は、</p>
        <p>・複数の道具箱として出したい → named</p>
        <p>・そのファイルの主役が1つ → default</p>
        <p>くらいでOKです。</p>
        

        <p>
          なお、ブラウザでES Modulesを使うときは、HTML側で <strong>typeがmodule</strong> になっていることが多いです。
        </p>
        <pre><code class="language-html">&lt;script type="module" src="/src/main.js"&gt;&lt;/script&gt;
</code></pre>
      </section>

      <section id="sec-2">
        <h3>依存関係が見えるメリット</h3>
        <p>
          import/exportで分割すると、ファイル同士の「つながり（依存関係）」が見えるようになります。
          これが地味に強いです。
        </p>

        <ul>
          <li><p><strong>影響範囲が追いやすい</strong>：この関数を直したら、どこに効くかが分かりやすい</p></li>
          <li><p><strong>再利用しやすい</strong>：便利関数を切り出して、別の場所でも使える</p></li>
          <li><p><strong>テストしやすい</strong>：部品単位で確認できる</p></li>
          <li><p><strong>読みやすい</strong>：1ファイルが巨大になりにくい</p></li>
        </ul>

        <p>
          逆に、依存がぐちゃぐちゃだと「どこを直すと壊れるか」が見えにくくなります。
          モジュール化は、その事故を減らすための整理術でもあります。
        </p>
      </section>

      <section id="sec-3">
        <h3>npmとpackage.jsonの超概要</h3>
        <p>
          <strong>npm（エヌピーエム）</strong>は、JavaScriptの部品（ライブラリ）を管理する仕組みです。
          その設計図が <strong>package.json</strong> です。
        </p>

        <p>package.jsonに書かれている代表的な情報は、だいたい次の3つです。</p>
        <ul>
          <li><p><strong>dependencies</strong>：実行に必要なライブラリ（本番でも使う）</p></li>
          <li><p><strong>devDependencies</strong>：開発中だけ必要な道具（ビルドや整形など）</p></li>
          <li><p><strong>scripts</strong>：よく使うコマンドのショートカット（例：dev、build）</p></li>
        </ul>

        <pre><code class="language-json">{
  "name": "my-app",
  "private": true,
  "scripts": {
    "dev": "vite",
    "build": "vite build"
  },
  "dependencies": {
    "react": "^18.0.0"
  },
  "devDependencies": {
    "vite": "^5.0.0"
  }
}
</code></pre>

        <p>ここで大事なのは、コマンド自体を暗記することよりも、</p>
          <p>「このプロジェクトは、どんな部品を使って、どう起動して、どう作っているか」</p>
          <p>が package.json を見れば分かる、という点です。</p>
      </section>

      <section id="sec-4">
        <h3>Viteの役割（開発サーバ・ビルド）</h3>
        <p>
          <strong>Vite（ヴィート）</strong>は、ざっくり言うと「開発しやすくして、配布用にもまとめてくれる道具」です。
          主な役割は2つです。
        </p>

        <p><strong>1. 開発サーバ</strong></p>
        <p>
          開発中にページを素早く表示したり、変更を即反映したりします。
          よく「ホットリロード」みたいな言い方もします（保存したらすぐ反映される体験）。
        </p>

        <p><strong>2. ビルド</strong></p>
        <p>
          配布用に、ファイルをまとめたり、軽くしたりします。
          例えば、複数のJSファイルを最適化して、ブラウザで読み込みやすい形にします。
          ここで出来上がる成果物（ディストなど）をサーバに置くと、本番サイトとして動く、というイメージです。
        </p>

          <p>つまりViteは、</p>
          <p>「開発中は快適に」＋「本番用はきちんとまとめる」</p>
         <p>を両方やる立ち位置、と思っておけばOKです。</p> 
      </section>

      <section id="sec-5">
        <h3>会社PCで導入不可でも理解できる範囲</h3>
        <p>
          会社PCでツール導入ができない場合でも、理解できる範囲は意外と広いです。
          「実行」は無理でも「読む・構造を把握する・説明できる」はできます。
        </p>

        <ul>
          <li><p><strong>import/exportの読み方</strong>：どの部品をどこで使っているか追える</p></li>
          <li><p><strong>フォルダ構成の意味</strong>：srcがソース、distが配布物、などの典型が分かる</p></li>
          <li><p><strong>package.jsonの読み取り</strong>：何を使っているか、起動やビルドが何か分かる</p></li>
          <li><p><strong>Viteの役割の説明</strong>：開発サーバとビルドの概念を説明できる</p></li>
        </ul>

        
          <p>実務では「自分のPCで試せない」状況でも、</p>
          <p>・ソースを読んで原因を当てる</p>
          <p>・環境チームや開発チームに「何が必要か」を言語化する</p>
          <p>だけで価値が出る場面があります。</p>


        <section class="card" style="margin-top:12px; padding:12px;">
          <p style="margin:0;"><strong>ワンポイント</strong></p>
          <p style="margin:8px 0 0 0;">
            「Viteを触れない」＝「分からない」ではありません。</p>
            <p>まずは <strong>import/export</strong> と <strong>package.json</strong> を読めるようになるだけで、プロジェクト理解が一気に進みます。
          </p>
        </section>
      </section>

      <section id="sec-6">
      <h3>注意（ここだけ）</h3>
      <ul>
        <li><p>ブラウザでES Modulesを使う場合、<code>&lt;script type="module"&gt;</code> が必要です（通常scriptと挙動が違います）。</p></li>
        <li><p><code>import</code> はローカルファイル直開き（file://）だと制限で動かないことがあります。基本は開発サーバ前提です。</p></li>
        <li><p>会社PCでnpm導入ができない場合は、概念理解に留め、実行は個人環境や許可された環境で行うのが安全です。</p></li>
      </ul>
    </section>

      <section id="sec-7">
        <h3>要約</h3>
        <ol>
          <li>ES Modulesはexportで部品を外に出し、importで取り込んで組み立てます。</li>
          <li>namedとdefaultを使い分けると、部品の公開方法が整理できます。</li>
          <li>モジュール化で依存関係が見え、影響範囲や再利用が分かりやすくなります。</li>
          <li>npmとpackage.jsonで、使うライブラリや起動・ビルド手順を管理します。</li>
          <li>Viteは開発サーバとビルドを担当し、導入できなくても概念理解は可能です。</li>
        </ol>
      </section>

    </article>
  </main>
</body>
</html>
